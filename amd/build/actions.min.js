define("mod_bigbluebuttonbn/actions", ["./repository", "core/notification", "./events", "core/str"], (function (_repository, _notification, _events, _str) {
   /**
    * JS actions.
    *
    * @module      mod_bigbluebuttonbn/actions
    * @copyright   2021 Blindside Networks Inc
    * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
    */
   var listening = !1;
   listening || (document.addEventListener("click", (function (e) {
      var actionButton = e.target.closest('.bbb-btn-action[data-action="end"]');
      if (actionButton) {
         e.preventDefault();
         var title, question, saveLabel, bbbId = actionButton.dataset.bbbId,
            groupId = actionButton.dataset.groupId ? actionButton.dataset.groupId : 0;
         (title = (0, _str.get_string)("end_session_confirm_title", "mod_bigbluebuttonbn"), question = (0, _str.get_string)("end_session_confirm", "mod_bigbluebuttonbn"), saveLabel = (0, _str.get_string)("yes", "moodle"), new Promise((function (resolve) {
            (0, _notification.saveCancel)(title, question, saveLabel, resolve)
         }))).then((function () {
            return (0, _repository.endMeeting)(bbbId, groupId)
         })).then((function () {
            (0, _events.notifySessionEnded)(bbbId, groupId)
         })).catch(_notification.exception)
      }
      var actionButtonGrading = e.target.closest('.bbb-btn-action[data-action="grading"]');
      if (actionButtonGrading) {
         e.preventDefault();
         var title, question, saveLabel, bbbId = actionButtonGrading.dataset.bbbId,
            groupId = actionButtonGrading.dataset.groupId ? actionButtonGrading.dataset.groupId : 0;
         (title = (0, _str.get_string)("grading_session_confirm_title", "mod_bigbluebuttonbn"), question = (0, _str.get_string)("grading_session_confirm", "mod_bigbluebuttonbn"), saveLabel = (0, _str.get_string)("yes", "moodle"), new Promise((function (resolve) {
            (0, _notification.saveCancel)(title, question, saveLabel, resolve)
         }))).then((function () {
            // (0, _events.notifySessionCanGrading)(bbbId, groupId)
            var grading_string;
            ((0, _str.get_string)("grading_session_in_table", "mod_bigbluebuttonbn")).then((grading_string) => {
               console.log(grading_string);
               _notification.addNotification({
                  message: grading_string.toString(),
                  type: "info"
                });
            })

         })).catch(_notification.exception)
      }
   })), listening = !0)
}));

//# sourceMappingURL=actions.min.js.map